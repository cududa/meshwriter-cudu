{"version":3,"file":"meshwriter.cjs.js","sources":["../src/utils.js","../src/fontCompression.js","../src/fontRegistry.js","../src/csg.js","../src/material.js","../src/sps.js","../src/letterMesh.js","../src/curves.js","../src/meshwriter.js","../src/index.js"],"sourcesContent":["/**\n * MeshWriter Utility Functions\n * Pure helper functions with no external dependencies\n */\n\nconst floor = Math.floor;\n\n// Type checking functions\nexport function isPositiveNumber(mn) {\n    return typeof mn === \"number\" && !isNaN(mn) ? 0 < mn : false;\n}\n\nexport function isNumber(mn) {\n    return typeof mn === \"number\";\n}\n\nexport function isBoolean(mn) {\n    return typeof mn === \"boolean\";\n}\n\nexport function isAmplitude(ma) {\n    return typeof ma === \"number\" && !isNaN(ma) ? 0 <= ma && ma <= 1 : false;\n}\n\nexport function isObject(mo) {\n    return mo != null && typeof mo === \"object\" || typeof mo === \"function\";\n}\n\nexport function isPromiseLike(mo) {\n    return isObject(mo) && typeof mo.then === \"function\";\n}\n\nexport function isArray(ma) {\n    return ma != null && typeof ma === \"object\" && ma.constructor === Array;\n}\n\nexport function isString(ms) {\n    return typeof ms === \"string\" ? ms.length > 0 : false;\n}\n\nexport function isRelativeLength(l) {\n    return l === 3 || l === 5 || l === 7;\n}\n\n// Math utilities\nexport function round(n) {\n    return floor(0.3 + n * 1000000) / 1000000;\n}\n\nexport function weeid() {\n    return Math.floor(Math.random() * 1000000);\n}\n\n// Option handling\nexport function setOption(opts, field, tst, defalt) {\n    return tst(opts[field]) ? opts[field] : defalt;\n}\n","/**\n * MeshWriter Font Compression/Decompression\n * Base-128 encoding for font data compression (~50% size reduction)\n */\n\nimport { isArray } from './utils.js';\n\nconst floor = Math.floor;\n\n// Encoding arrays (initialized once at module load)\nlet b128back;\nlet b128digits;\n\n/**\n * Initialize encoding arrays for base-128 conversion\n * Called once when module loads\n */\nfunction prepArray() {\n    let pntr = -1;\n    let n;\n    b128back = new Uint8Array(256);\n    b128digits = new Array(128);\n\n    while (160 > pntr++) {\n        if (pntr < 128) {\n            n = fr128to256(pntr);\n            b128digits[pntr] = String.fromCharCode(n);\n            b128back[n] = pntr;\n        } else {\n            if (pntr === 128) {\n                b128back[32] = pntr;\n            } else {\n                b128back[pntr + 71] = pntr;\n            }\n        }\n    }\n\n    function fr128to256(n) {\n        if (n < 92) {\n            return n < 58 ? n < 6 ? n + 33 : n + 34 : n + 35;\n        } else {\n            return n + 69;\n        }\n    }\n}\n\n// Initialize on module load\nprepArray();\n\n/**\n * Convert base-128 encoded string to number\n */\nfunction frB128(s) {\n    let result = 0;\n    let i = -1;\n    const l = s.length - 1;\n    while (i++ < l) {\n        result = result * 128 + b128back[s.charCodeAt(i)];\n    }\n    return result;\n}\n\n/**\n * Convert number to base-128 encoded string\n */\nfunction toB128(i) {\n    let s = b128digits[(i % 128)];\n    i = floor(i / 128);\n    while (i > 0) {\n        s = b128digits[(i % 128)] + s;\n        i = floor(i / 128);\n    }\n    return s;\n}\n\n/**\n * Decode a compressed command list string\n * @param {string} str - Compressed string (space-separated encoded commands)\n * @returns {Array} - Array of decoded command arrays\n */\nexport function decodeList(str) {\n    const split = str.split(\" \");\n    const list = [];\n\n    split.forEach(function(cmds) {\n        if (cmds.length === 12) { list.push(decode6(cmds)); }\n        if (cmds.length === 8) { list.push(decode4(cmds)); }\n        if (cmds.length === 4) { list.push(decode2(cmds)); }\n    });\n\n    return list;\n\n    function decode6(s) {\n        return [\n            decode1(s, 0, 2), decode1(s, 2, 4), decode1(s, 4, 6),\n            decode1(s, 6, 8), decode1(s, 8, 10), decode1(s, 10, 12)\n        ];\n    }\n    function decode4(s) {\n        return [decode1(s, 0, 2), decode1(s, 2, 4), decode1(s, 4, 6), decode1(s, 6, 8)];\n    }\n    function decode2(s) {\n        return [decode1(s, 0, 2), decode1(s, 2, 4)];\n    }\n    function decode1(s, start, end) {\n        return (frB128(s.substring(start, end)) - 4000) / 2;\n    }\n}\n\n/**\n * Encode a command list to compressed string\n * @param {Array} list - Array of command arrays\n * @returns {string} - Compressed string\n */\nexport function codeList(list) {\n    let str = \"\";\n    let xtra = \"\";\n\n    if (isArray(list)) {\n        list.forEach(function(cmds) {\n            if (cmds.length === 6) { str += xtra + code6(cmds); xtra = \" \"; }\n            if (cmds.length === 4) { str += xtra + code4(cmds); xtra = \" \"; }\n            if (cmds.length === 2) { str += xtra + code2(cmds); xtra = \" \"; }\n        });\n    }\n\n    return str;\n\n    function code6(a) {\n        return code1(a[0]) + code1(a[1]) + code1(a[2]) + code1(a[3]) + code1(a[4]) + code1(a[5]);\n    }\n    function code4(a) {\n        return code1(a[0]) + code1(a[1]) + code1(a[2]) + code1(a[3]);\n    }\n    function code2(a) {\n        return code1(a[0]) + code1(a[1]);\n    }\n    function code1(n) {\n        return toB128((n + n) + 4000);\n    }\n}\n","/**\n * MeshWriter Font Registry\n * Manages font registration and lookup\n */\n\nimport { isObject } from './utils.js';\nimport { codeList, decodeList } from './fontCompression.js';\n\n// Private font storage\nconst FONTS = {};\n\n/**\n * Register a font for use with MeshWriter\n * @param {string} name - Font name (case-sensitive, used in \"font-family\" option)\n * @param {Function|Object} fontData - Font factory function or pre-initialized font object\n *\n * @example\n * // Register a font factory (receives codeList for encoding)\n * import helvetica from 'meshwriter/fonts/helvetica';\n * registerFont('Helvetica', helvetica);\n *\n * // Register with aliases\n * registerFont('Arial', helvetica);\n * registerFont('sans-serif', helvetica);\n */\nexport function registerFont(name, fontData) {\n    if (typeof fontData === 'function') {\n        // Font is a factory function expecting codeList\n        FONTS[name] = fontData(codeList);\n    } else if (isObject(fontData)) {\n        // Font is already initialized\n        FONTS[name] = fontData;\n    } else {\n        throw new Error(`MeshWriter: Invalid font data for \"${name}\"`);\n    }\n}\n\n/**\n * Register multiple font aliases pointing to the same font\n * @param {string} targetName - Name of already-registered font\n * @param {...string} aliases - Alias names to register\n *\n * @example\n * registerFont('Helvetica', helveticaData);\n * registerFontAliases('Helvetica', 'Arial', 'sans-serif');\n */\nexport function registerFontAliases(targetName, ...aliases) {\n    if (!FONTS[targetName]) {\n        throw new Error(`MeshWriter: Cannot create aliases: font \"${targetName}\" not registered`);\n    }\n    aliases.forEach(alias => {\n        FONTS[alias] = FONTS[targetName];\n    });\n}\n\n/**\n * Get a registered font by name\n * @param {string} name - Font name\n * @returns {Object|undefined} - Font object or undefined if not found\n */\nexport function getFont(name) {\n    return FONTS[name];\n}\n\n/**\n * Check if a font is registered\n * @param {string} name - Font name\n * @returns {boolean}\n */\nexport function isFontRegistered(name) {\n    return isObject(FONTS[name]);\n}\n\n/**\n * Get list of all registered font names\n * @returns {string[]}\n */\nexport function getRegisteredFonts() {\n    return Object.keys(FONTS);\n}\n\n/**\n * Unregister a font (mainly for testing)\n * @param {string} name - Font name to remove\n */\nexport function unregisterFont(name) {\n    delete FONTS[name];\n}\n\n/**\n * Clear all registered fonts (mainly for testing)\n */\nexport function clearFonts() {\n    Object.keys(FONTS).forEach(key => delete FONTS[key]);\n}\n\n// Re-export compression utilities for font authors\nexport { codeList, decodeList };\n","/**\n * MeshWriter CSG Module\n * Handles CSG version detection, async initialization, and ready state management\n */\n\nimport { isObject, isPromiseLike } from './utils.js';\nimport {\n    CSG as BabylonCSG,\n    CSG2 as BabylonCSG2,\n    InitializeCSG2Async as BabylonInitializeCSG2Async,\n    IsCSG2Ready as BabylonIsCSG2Ready\n} from './babylonImports.js';\n\n// CSG libraries - initialized from Babylon imports or external source\nlet CSG = BabylonCSG;\nlet CSG2 = BabylonCSG2;\nlet InitializeCSG2Async = BabylonInitializeCSG2Async;\nlet IsCSG2Ready = BabylonIsCSG2Ready;\n\n// State\nlet csgVersion = null;        // 'CSG2', 'CSG', or null\nlet csgReady = false;\nconst csgReadyListeners = [];\nlet externalCSGInitializer = null;\nlet externalCSGReadyCheck = null;\n\n/**\n * Initialize CSG module with Babylon.js CSG classes\n * Must be called before using any CSG functionality\n * @param {Object} babylon - Object containing CSG, CSG2, InitializeCSG2Async, IsCSG2Ready\n */\nexport function initCSGModule(babylon) {\n    if (isObject(babylon)) {\n        CSG = babylon.CSG || null;\n        CSG2 = babylon.CSG2 || null;\n        InitializeCSG2Async = babylon.InitializeCSG2Async || null;\n        IsCSG2Ready = babylon.IsCSG2Ready || null;\n    }\n    csgVersion = detectCSGVersion();\n\n    // Legacy CSG is immediately ready\n    if (csgVersion === 'CSG') {\n        markCSGInitialized();\n    } else if (csgVersion === 'CSG2') {\n        // Check if CSG2 is already initialized\n        csgReady = false;\n        if (runCSGReadyCheck()) {\n            markCSGInitialized();\n        }\n    }\n}\n\n/**\n * Detect which CSG implementation is available\n * @returns {'CSG2'|'CSG'|null}\n */\nexport function detectCSGVersion() {\n    // Prefer CSG2 (Babylon 7.31+)\n    if (isObject(CSG2) && typeof InitializeCSG2Async === 'function') {\n        return 'CSG2';\n    }\n    // Fall back to legacy CSG\n    if (isObject(CSG) && typeof CSG.FromMesh === 'function') {\n        return 'CSG';\n    }\n    return null;\n}\n\n/**\n * Mark CSG as ready and notify all listeners\n */\nexport function markCSGInitialized() {\n    if (csgReady) {\n        return;\n    }\n    csgReady = true;\n\n    // Notify all waiting listeners\n    if (csgReadyListeners.length) {\n        csgReadyListeners.splice(0).forEach(function(listener) {\n            try {\n                listener();\n            } catch (err) {\n                console.error(\"MeshWriter: onCSGReady listener failed\", err);\n            }\n        });\n    }\n}\n\n/**\n * Check if CSG is ready for use\n * @returns {boolean}\n */\nexport function isCSGReady() {\n    if (csgVersion === 'CSG2') {\n        refreshCSGReadyState();\n        return csgReady;\n    }\n    return csgVersion === 'CSG';\n}\n\n/**\n * Refresh CSG2 ready state from external checks\n */\nfunction refreshCSGReadyState() {\n    if (csgVersion !== 'CSG2' || csgReady) {\n        return;\n    }\n    if (runCSGReadyCheck()) {\n        markCSGInitialized();\n    }\n}\n\n/**\n * Run CSG ready check (external or native)\n */\nfunction runCSGReadyCheck() {\n    // Try external ready check first\n    if (typeof externalCSGReadyCheck === \"function\") {\n        try {\n            if (externalCSGReadyCheck()) {\n                return true;\n            }\n        } catch (err) {\n            console.warn(\"MeshWriter: external CSG ready check failed\", err);\n        }\n    }\n\n    // Check native IsCSG2Ready\n    if (typeof IsCSG2Ready === \"function\" && IsCSG2Ready()) {\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * Initialize CSG2 asynchronously\n * @returns {Promise<void>}\n */\nexport async function initializeCSG2() {\n    if (csgVersion !== 'CSG2') {\n        return;\n    }\n    if (csgReady) {\n        return;\n    }\n\n    const initializer = externalCSGInitializer || InitializeCSG2Async;\n    if (typeof initializer !== \"function\") {\n        throw new Error(\n            \"MeshWriter: No CSG2 initializer available. \" +\n            \"Use MeshWriter.setCSGInitializer() or ensure BABYLON.InitializeCSG2Async is available.\"\n        );\n    }\n\n    const result = initializer();\n    if (isPromiseLike(result)) {\n        await result;\n    }\n    markCSGInitialized();\n}\n\n// Public API\n\n/**\n * Get the current CSG version being used\n * @returns {'CSG2'|'CSG'|null}\n */\nexport function getCSGVersion() {\n    return csgVersion;\n}\n\n/**\n * Set an external CSG2 initializer function\n * @param {Function} fn - Async function that initializes CSG2\n */\nexport function setCSGInitializer(fn) {\n    if (typeof fn === \"function\") {\n        externalCSGInitializer = fn;\n    }\n}\n\n/**\n * Set an external CSG2 ready check function\n * @param {Function} fn - Function that returns true when CSG2 is ready\n */\nexport function setCSGReadyCheck(fn) {\n    if (typeof fn === \"function\") {\n        externalCSGReadyCheck = fn;\n        refreshCSGReadyState();\n    }\n}\n\n/**\n * Register a callback to be called when CSG is ready\n * If CSG is already ready, callback is called immediately\n * @param {Function} listener\n */\nexport function onCSGReady(listener) {\n    if (typeof listener !== \"function\") {\n        return;\n    }\n    if (isCSGReady()) {\n        listener();\n    } else {\n        csgReadyListeners.push(listener);\n    }\n}\n\n/**\n * Get the CSG library to use for operations\n * @returns {Object} - CSG or CSG2 class\n */\nexport function getCSGLib() {\n    return csgVersion === 'CSG2' ? CSG2 : CSG;\n}\n\n// Export for direct access when needed\nexport { CSG, CSG2 };\n","/**\n * MeshWriter Material Creation\n * Creates StandardMaterial for text rendering\n */\n\nimport { StandardMaterial, Color3 } from './babylonImports.js';\nimport { weeid } from './utils.js';\n\nconst floor = Math.floor;\n\n/**\n * Convert hex color string to Babylon Color3\n * @param {string} rgb - Hex color string (e.g., \"#FF0000\" or \"FF0000\")\n * @returns {Color3}\n */\nexport function rgb2Color3(rgb) {\n    rgb = rgb.replace(\"#\", \"\");\n    return new Color3(\n        convert(rgb.substring(0, 2)),\n        convert(rgb.substring(2, 4)),\n        convert(rgb.substring(4, 6))\n    );\n\n    function convert(x) {\n        const parsed = parseInt(x, 16);\n        const val = isNaN(parsed) ? 0 : parsed;\n        return floor(1000 * Math.max(0, Math.min(val / 255, 1))) / 1000;\n    }\n}\n\n/**\n * Create a StandardMaterial for text\n * @param {Scene} scene - Babylon scene\n * @param {string} letters - Text string (used for material naming)\n * @param {string} emissive - Hex color for emissive\n * @param {string} ambient - Hex color for ambient\n * @param {string} specular - Hex color for specular\n * @param {string} diffuse - Hex color for diffuse\n * @param {number} opac - Opacity (0-1)\n * @returns {StandardMaterial}\n */\nexport function makeMaterial(scene, letters, emissive, ambient, specular, diffuse, opac) {\n    const material = new StandardMaterial(\"mw-matl-\" + letters + \"-\" + weeid(), scene);\n    material.diffuseColor = rgb2Color3(diffuse);\n    material.specularColor = rgb2Color3(specular);\n    material.ambientColor = rgb2Color3(ambient);\n    material.emissiveColor = rgb2Color3(emissive);\n    material.alpha = opac;\n    return material;\n}\n","/**\n * MeshWriter SPS (Solid Particle System) Helpers\n * Converts letter meshes into an efficient SPS\n */\n\nimport { SolidParticleSystem } from './babylonImports.js';\n\n/**\n * Create an SPS from letter meshes\n * @param {Scene} scene - Babylon scene\n * @param {Array} meshesAndBoxes - [meshes, boxes, origins] from constructLetterPolygons\n * @param {Material} material - Material to apply to SPS mesh\n * @returns {[SolidParticleSystem, Mesh]} - [sps, spsMesh]\n */\nexport function makeSPS(scene, meshesAndBoxes, material) {\n    const meshes = meshesAndBoxes[0];\n    const lettersOrigins = meshesAndBoxes[2];\n    let sps, spsMesh;\n\n    if (meshes.length) {\n        sps = new SolidParticleSystem(\"sps\" + \"test\", scene, {});\n\n        meshes.forEach(function(mesh, ix) {\n            sps.addShape(mesh, 1, {\n                positionFunction: makePositionParticle(lettersOrigins[ix])\n            });\n            mesh.dispose();\n        });\n\n        spsMesh = sps.buildMesh();\n        spsMesh.material = material;\n        sps.setParticles();\n    }\n\n    return [sps, spsMesh];\n\n    function makePositionParticle(letterOrigins) {\n        return function positionParticle(particle, ix, s) {\n            particle.position.x = letterOrigins[0] + letterOrigins[1];\n            particle.position.z = letterOrigins[2];\n        };\n    }\n}\n","/**\n * MeshWriter Letter Mesh Construction\n * Builds 3D letter meshes from font specifications\n */\n\nimport { Path2, Vector2, Mesh, PolygonMeshBuilder } from './babylonImports.js';\nimport { getCSGLib, getCSGVersion, isCSGReady } from './csg.js';\nimport { decodeList } from './fontCompression.js';\nimport {\n    isObject, isArray, isNumber, isBoolean,\n    isRelativeLength, round, weeid\n} from './utils.js';\nimport earcut from 'earcut';\n\n// Constants\nconst naturalLetterHeight = 1000;\n\n/**\n * Decompress font letter on first use (lazy decompression)\n * @param {Object} fontSpec - Font specification object\n * @param {string} letter - Character to get spec for\n * @returns {Object|undefined} - Letter specification\n */\nfunction makeLetterSpec(fontSpec, letter) {\n    const letterSpec = fontSpec[letter];\n\n    if (isObject(letterSpec)) {\n        // Decompress shape commands if compressed\n        if (!isArray(letterSpec.shapeCmds) && isArray(letterSpec.sC)) {\n            letterSpec.shapeCmds = letterSpec.sC.map(cmds => decodeList(cmds));\n            letterSpec.sC = null;\n        }\n        // Decompress hole commands if compressed\n        if (!isArray(letterSpec.holeCmds) && isArray(letterSpec.hC)) {\n            letterSpec.holeCmds = letterSpec.hC.map(cmdslists =>\n                isArray(cmdslists) ? cmdslists.map(cmds => decodeList(cmds)) : cmdslists\n            );\n            letterSpec.hC = null;\n        }\n    }\n    return letterSpec;\n}\n\n/**\n * Convert point to Vector2\n */\nfunction point2Vector(point) {\n    return new Vector2(round(point.x), round(point.y));\n}\n\n/**\n * Merge array of meshes\n */\nfunction merge(arrayOfMeshes) {\n    return arrayOfMeshes.length === 1\n        ? arrayOfMeshes[0]\n        : Mesh.MergeMeshes(arrayOfMeshes, true);\n}\n\n/**\n * Construct meshes for all letters in a string\n * @param {string} letters - Text string\n * @param {Object} fontSpec - Font specification\n * @param {number} xOffset - X offset\n * @param {number} yOffset - Y offset (unused, kept for API compatibility)\n * @param {number} zOffset - Z offset\n * @param {number} letterScale - Scale factor for letters\n * @param {number} thickness - Letter thickness (depth)\n * @param {Material} material - Material (unused in this function)\n * @param {string} meshOrigin - \"letterCenter\" or \"fontOrigin\"\n * @param {Scene} scene - Babylon scene\n * @returns {Array} - [meshes, boxes, origins] with xWidth and count properties\n */\nexport function constructLetterPolygons(\n    letters, fontSpec, xOffset, yOffset, zOffset,\n    letterScale, thickness, material, meshOrigin, scene\n) {\n    let letterOffsetX = 0;\n    const lettersOrigins = new Array(letters.length);\n    const lettersBoxes = new Array(letters.length);\n    const lettersMeshes = new Array(letters.length);\n    let ix = 0;\n\n    for (let i = 0; i < letters.length; i++) {\n        const letter = letters[i];\n        const letterSpec = makeLetterSpec(fontSpec, letter);\n\n        if (isObject(letterSpec)) {\n            const lists = buildLetterMeshes(\n                letter, i, letterSpec, fontSpec.reverseShapes, fontSpec.reverseHoles,\n                meshOrigin, letterScale, xOffset, zOffset, letterOffsetX, thickness, scene\n            );\n\n            const shapesList = lists[0];\n            const holesList = lists[1];\n            const letterBox = lists[2];\n            const letterOrigins = lists[3];\n            const newOffsetX = lists[4];\n\n            letterOffsetX = newOffsetX;\n\n            const letterMeshes = punchHolesInShapes(shapesList, holesList, letter, i, scene);\n\n            if (letterMeshes.length) {\n                lettersMeshes[ix] = merge(letterMeshes);\n                lettersOrigins[ix] = letterOrigins;\n                lettersBoxes[ix] = letterBox;\n                ix++;\n            }\n        }\n    }\n\n    const meshesAndBoxes = [lettersMeshes, lettersBoxes, lettersOrigins];\n    meshesAndBoxes.xWidth = round(letterOffsetX);\n    meshesAndBoxes.count = ix;\n    return meshesAndBoxes;\n}\n\n/**\n * Build meshes for a single letter\n * @returns {Array} - [shapesList, holesList, letterBox, letterOrigins, newOffsetX]\n */\nfunction buildLetterMeshes(\n    letter, index, spec, reverseShapes, reverseHoles,\n    meshOrigin, letterScale, xOffset, zOffset, letterOffsetX, thickness, scene\n) {\n    // Offset calculations\n    const balanced = meshOrigin === \"letterCenter\";\n    const centerX = (spec.xMin + spec.xMax) / 2;\n    const centerZ = (spec.yMin + spec.yMax) / 2;\n    const xFactor = isNumber(spec.xFactor) ? spec.xFactor : 1;\n    const zFactor = isNumber(spec.yFactor) ? spec.yFactor : 1;\n    const xShift = isNumber(spec.xShift) ? spec.xShift : 0;\n    const zShift = isNumber(spec.yShift) ? spec.yShift : 0;\n    const reverseShape = isBoolean(spec.reverseShape) ? spec.reverseShape : reverseShapes;\n    const reverseHole = isBoolean(spec.reverseHole) ? spec.reverseHole : reverseHoles;\n    const offX = xOffset - (balanced ? centerX : 0);\n    const offZ = zOffset - (balanced ? centerZ : 0);\n    const shapeCmdsLists = isArray(spec.shapeCmds) ? spec.shapeCmds : [];\n    const holeCmdsListsArray = isArray(spec.holeCmds) ? spec.holeCmds : [];\n\n    // Tracking for relative coordinates\n    let thisX, lastX, thisZ, lastZ;\n\n    // Scaling functions\n    const adjX = makeAdjust(letterScale, xFactor, offX, 0, false, true);\n    const adjZ = makeAdjust(letterScale, zFactor, offZ, 0, false, false);\n    const adjXfix = makeAdjust(letterScale, xFactor, offX, xShift, false, true);\n    const adjZfix = makeAdjust(letterScale, zFactor, offZ, zShift, false, false);\n    const adjXrel = makeAdjust(letterScale, xFactor, offX, xShift, true, true);\n    const adjZrel = makeAdjust(letterScale, zFactor, offZ, zShift, true, false);\n\n    const letterBox = [adjX(spec.xMin), adjX(spec.xMax), adjZ(spec.yMin), adjZ(spec.yMax)];\n    const letterOrigins = [round(letterOffsetX), -1 * adjX(0), -1 * adjZ(0)];\n\n    // Update letterOffsetX for next letter\n    const newOffsetX = letterOffsetX + spec.wdth * letterScale;\n\n    const shapesList = shapeCmdsLists.map(makeCmdsToMesh(reverseShape));\n    const holesList = holeCmdsListsArray.map(meshesFromCmdsListArray);\n\n    return [shapesList, holesList, letterBox, letterOrigins, newOffsetX];\n\n    function meshesFromCmdsListArray(cmdsListArray) {\n        return cmdsListArray.map(makeCmdsToMesh(reverseHole));\n    }\n\n    function makeCmdsToMesh(reverse) {\n        return function cmdsToMesh(cmdsList) {\n            let cmd = getCmd(cmdsList, 0);\n            const path = new Path2(adjXfix(cmd[0]), adjZfix(cmd[1]));\n\n            // Process path commands\n            for (let j = 1; j < cmdsList.length; j++) {\n                cmd = getCmd(cmdsList, j);\n\n                // Line (2 coords = absolute, 3 = relative)\n                if (cmd.length === 2) {\n                    path.addLineTo(adjXfix(cmd[0]), adjZfix(cmd[1]));\n                }\n                if (cmd.length === 3) {\n                    path.addLineTo(adjXrel(cmd[1]), adjZrel(cmd[2]));\n                }\n\n                // Quadratic curve (4 = absolute, 5 = relative)\n                if (cmd.length === 4) {\n                    path.addQuadraticCurveTo(\n                        adjXfix(cmd[0]), adjZfix(cmd[1]),\n                        adjXfix(cmd[2]), adjZfix(cmd[3])\n                    );\n                }\n                if (cmd.length === 5) {\n                    path.addQuadraticCurveTo(\n                        adjXrel(cmd[1]), adjZrel(cmd[2]),\n                        adjXrel(cmd[3]), adjZrel(cmd[4])\n                    );\n                }\n\n                // Cubic curve (6 = absolute, 7 = relative)\n                if (cmd.length === 6) {\n                    path.addCubicCurveTo(\n                        adjXfix(cmd[0]), adjZfix(cmd[1]),\n                        adjXfix(cmd[2]), adjZfix(cmd[3]),\n                        adjXfix(cmd[4]), adjZfix(cmd[5])\n                    );\n                }\n                if (cmd.length === 7) {\n                    path.addCubicCurveTo(\n                        adjXrel(cmd[1]), adjZrel(cmd[2]),\n                        adjXrel(cmd[3]), adjZrel(cmd[4]),\n                        adjXrel(cmd[5]), adjZrel(cmd[6])\n                    );\n                }\n            }\n\n            // Convert path to array and process\n            let array = path.getPoints().map(point2Vector);\n\n            // Remove redundant start/end points\n            const first = 0;\n            const last = array.length - 1;\n            if (array[first].x === array[last].x && array[first].y === array[last].y) {\n                array = array.slice(1);\n            }\n            if (reverse) {\n                array.reverse();\n            }\n\n            const meshBuilder = new PolygonMeshBuilder(\n                \"MeshWriter-\" + letter + index + \"-\" + weeid(),\n                array,\n                scene,\n                earcut\n            );\n            return meshBuilder.build(true, thickness);\n        };\n    }\n\n    function getCmd(list, ix) {\n        lastX = thisX;\n        lastZ = thisZ;\n        const cmd = list[ix];\n        const len = cmd.length;\n        thisX = isRelativeLength(len)\n            ? round((cmd[len - 2] * xFactor) + thisX)\n            : round(cmd[len - 2] * xFactor);\n        thisZ = isRelativeLength(len)\n            ? round((cmd[len - 1] * zFactor) + thisZ)\n            : round(cmd[len - 1] * zFactor);\n        return cmd;\n    }\n\n    function makeAdjust(letterScale, factor, off, shift, relative, xAxis) {\n        if (relative) {\n            if (xAxis) {\n                return val => round(letterScale * ((val * factor) + shift + lastX + off));\n            } else {\n                return val => round(letterScale * ((val * factor) + shift + lastZ + off));\n            }\n        } else {\n            return val => round(letterScale * ((val * factor) + shift + off));\n        }\n    }\n}\n\n/**\n * Punch holes in letter shapes using CSG operations\n * @param {Array} shapesList - Array of shape meshes\n * @param {Array} holesList - Array of arrays of hole meshes\n * @param {string} letter - Letter character (for naming)\n * @param {number} letterIndex - Index of letter (for naming)\n * @param {Scene} scene - Babylon scene\n * @returns {Array} - Array of final letter meshes\n */\nfunction punchHolesInShapes(shapesList, holesList, letter, letterIndex, scene) {\n    const csgVersion = getCSGVersion();\n\n    // Validate CSG is available and initialized\n    if (csgVersion === 'CSG2' && !isCSGReady()) {\n        throw new Error(\n            \"MeshWriter: CSG2 not initialized. \" +\n            \"Use 'await MeshWriter.createAsync(scene, prefs)', call \" +\n            \"'await BABYLON.InitializeCSG2Async()', or configure \" +\n            \"MeshWriter.setCSGInitializer before creating MeshWriter.\"\n        );\n    }\n    if (csgVersion === null) {\n        throw new Error(\n            \"MeshWriter: No CSG implementation found. \" +\n            \"Ensure BABYLON.CSG or BABYLON.CSG2 is available.\"\n        );\n    }\n\n    const letterMeshes = [];\n    const csgLib = getCSGLib();\n\n    for (let j = 0; j < shapesList.length; j++) {\n        const shape = shapesList[j];\n        const holes = holesList[j];\n\n        if (isArray(holes) && holes.length) {\n            letterMeshes.push(punchHolesInShape(shape, holes, letter, letterIndex, csgLib, csgVersion, scene));\n        } else {\n            if (csgVersion === 'CSG2') {\n                // Flip faces to match CSG2-processed letters\n                shape.flipFaces();\n            }\n            letterMeshes.push(shape);\n        }\n    }\n\n    return letterMeshes;\n}\n\n/**\n * Punch holes in a single shape\n */\nfunction punchHolesInShape(shape, holes, letter, letterIndex, csgLib, csgVersion, scene) {\n    const meshName = \"Net-\" + letter + letterIndex + \"-\" + weeid();\n\n    let csgShape = csgLib.FromMesh(shape);\n    for (let k = 0; k < holes.length; k++) {\n        csgShape = csgShape.subtract(csgLib.FromMesh(holes[k]));\n    }\n\n    const resultMesh = csgVersion === 'CSG2'\n        ? csgShape.toMesh(meshName, scene, { centerMesh: false })\n        : csgShape.toMesh(meshName, null, scene);\n\n    if (csgVersion === 'CSG2') {\n        // CSG2/Manifold produces opposite face winding compared to legacy CSG\n        resultMesh.flipFaces();\n    }\n\n    // Cleanup\n    holes.forEach(h => h.dispose());\n    shape.dispose();\n\n    return resultMesh;\n}\n\nexport { naturalLetterHeight };\n","/**\n * MeshWriter Curve Extensions\n * Optimized Path2 curve methods for better performance\n */\n\nimport { Path2, Curve3, Vector3 } from './babylonImports.js';\n\n// Optimized segment count for curves\n// Native Babylon 6+ uses 36 segments which causes slowdown\n// MeshWriter uses 6 for better performance\nexport const curveSampleSize = 6;\n\n/**\n * Install optimized curve methods on Path2 prototype\n * Must be called after Babylon.js is loaded\n */\nexport function installCurveExtensions() {\n    if (!Path2 || !Path2.prototype) {\n        return;\n    }\n\n    // Quadratic Bezier with optimized segment count\n    Path2.prototype.addQuadraticCurveTo = function(redX, redY, blueX, blueY) {\n        const points = this.getPoints();\n        const lastPoint = points[points.length - 1];\n        const origin = new Vector3(lastPoint.x, lastPoint.y, 0);\n        const control = new Vector3(redX, redY, 0);\n        const destination = new Vector3(blueX, blueY, 0);\n\n        const curve = Curve3.CreateQuadraticBezier(origin, control, destination, curveSampleSize);\n        const curvePoints = curve.getPoints();\n\n        for (let i = 1; i < curvePoints.length; i++) {\n            this.addLineTo(curvePoints[i].x, curvePoints[i].y);\n        }\n        return this; // Return this for method chaining\n    };\n\n    // Cubic Bezier with optimized segment count\n    Path2.prototype.addCubicCurveTo = function(redX, redY, greenX, greenY, blueX, blueY) {\n        const points = this.getPoints();\n        const lastPoint = points[points.length - 1];\n        const origin = new Vector3(lastPoint.x, lastPoint.y, 0);\n        const control1 = new Vector3(redX, redY, 0);\n        const control2 = new Vector3(greenX, greenY, 0);\n        const destination = new Vector3(blueX, blueY, 0);\n\n        const nbPoints = Math.floor(0.3 + curveSampleSize * 1.5);\n        const curve = Curve3.CreateCubicBezier(origin, control1, control2, destination, nbPoints);\n        const curvePoints = curve.getPoints();\n\n        for (let i = 1; i < curvePoints.length; i++) {\n            this.addLineTo(curvePoints[i].x, curvePoints[i].y);\n        }\n        return this; // Return this for method chaining\n    };\n}\n","/**\n * MeshWriter Core Class\n * Main MeshWriter implementation for 3D text rendering in Babylon.js\n */\n\nimport { Vector2 } from './babylonImports.js';\nimport { getFont, isFontRegistered } from './fontRegistry.js';\nimport {\n    initCSGModule, isCSGReady, getCSGVersion, initializeCSG2,\n    setCSGInitializer, setCSGReadyCheck, onCSGReady, markCSGInitialized\n} from './csg.js';\nimport { makeMaterial, rgb2Color3 } from './material.js';\nimport { makeSPS } from './sps.js';\nimport { constructLetterPolygons, naturalLetterHeight } from './letterMesh.js';\nimport { installCurveExtensions } from './curves.js';\nimport {\n    isObject, isNumber, isBoolean, isString, isAmplitude,\n    isPositiveNumber, round, setOption\n} from './utils.js';\n\n// Constants\nconst defaultColor = \"#808080\";\nconst defaultOpac = 1;\n\n/**\n * Create a MeshWriter factory configured for a scene\n * @param {Scene} scene - Babylon.js scene\n * @param {Object} preferences - Configuration options\n * @param {string} [preferences.defaultFont] - Default font family\n * @param {number} [preferences.scale=1] - Scale factor\n * @param {string} [preferences.meshOrigin=\"letterCenter\"] - \"letterCenter\" or \"fontOrigin\"\n * @param {boolean} [preferences.debug=false] - Enable debug logging\n * @returns {Function} - MeshWriter constructor\n */\nexport function createMeshWriter(scene, preferences = {}) {\n    // Install curve extensions for Path2\n    installCurveExtensions();\n\n    const defaultFont = isFontRegistered(preferences.defaultFont)\n        ? preferences.defaultFont\n        : (isFontRegistered(\"Helvetica\") ? \"Helvetica\" : \"HelveticaNeue-Medium\");\n    const meshOrigin = preferences.meshOrigin === \"fontOrigin\"\n        ? \"fontOrigin\"\n        : \"letterCenter\";\n    const scale = isNumber(preferences.scale) ? preferences.scale : 1;\n    const debug = isBoolean(preferences.debug) ? preferences.debug : false;\n\n    /**\n     * MeshWriter constructor - creates 3D text\n     * @param {string} lttrs - Text to render\n     * @param {Object} opt - Options\n     */\n    function MeshWriter(lttrs, opt) {\n        const options = isObject(opt) ? opt : {};\n        const position = setOption(options, \"position\", isObject, {});\n        const colors = setOption(options, \"colors\", isObject, {});\n        const fontFamily = setOption(options, \"font-family\", isSupportedFont, defaultFont);\n        const anchor = setOption(options, \"anchor\", isSupportedAnchor, \"left\");\n        const rawheight = setOption(options, \"letter-height\", isPositiveNumber, 100);\n        const rawThickness = setOption(options, \"letter-thickness\", isPositiveNumber, 1);\n        const basicColor = setOption(options, \"color\", isString, defaultColor);\n        const opac = setOption(options, \"alpha\", isAmplitude, defaultOpac);\n        const y = setOption(position, \"y\", isNumber, 0);\n        const x = setOption(position, \"x\", isNumber, 0);\n        const z = setOption(position, \"z\", isNumber, 0);\n        const diffuse = setOption(colors, \"diffuse\", isString, \"#F0F0F0\");\n        const specular = setOption(colors, \"specular\", isString, \"#000000\");\n        const ambient = setOption(colors, \"ambient\", isString, \"#F0F0F0\");\n        const emissive = setOption(colors, \"emissive\", isString, basicColor);\n        const fontSpec = getFont(fontFamily);\n        const letterScale = round(scale * rawheight / naturalLetterHeight);\n        const thickness = round(scale * rawThickness);\n        const letters = isString(lttrs) ? lttrs : \"\";\n\n        // Create material\n        const material = makeMaterial(scene, letters, emissive, ambient, specular, diffuse, opac);\n\n        // Create letter meshes\n        const meshesAndBoxes = constructLetterPolygons(\n            letters, fontSpec, 0, 0, 0, letterScale, thickness, material, meshOrigin, scene\n        );\n        const meshes = meshesAndBoxes[0];\n        const lettersBoxes = meshesAndBoxes[1];\n        const lettersOrigins = meshesAndBoxes[2];\n        const xWidth = meshesAndBoxes.xWidth;\n\n        // Convert to SPS\n        const combo = makeSPS(scene, meshesAndBoxes, material);\n        const sps = combo[0];\n        const mesh = combo[1];\n\n        // Position mesh based on anchor\n        const offsetX = anchor === \"right\"\n            ? (0 - xWidth)\n            : (anchor === \"center\" ? (0 - xWidth / 2) : 0);\n\n        if (mesh) {\n            mesh.position.x = scale * x + offsetX;\n            mesh.position.y = scale * y;\n            mesh.position.z = scale * z;\n        }\n\n        // Instance methods\n        let color = basicColor;\n        this.getSPS = () => sps;\n        this.getMesh = () => mesh;\n        this.getMaterial = () => material;\n        this.getOffsetX = () => offsetX;\n        this.getLettersBoxes = () => lettersBoxes;\n        this.getLettersOrigins = () => lettersOrigins;\n        this.color = c => isString(c) ? color = c : color;\n        this.alpha = o => isAmplitude(o) ? opac : opac;\n        this.clearall = function() {\n            // Clear references for GC\n        };\n    }\n\n    // Prototype methods\n    MeshWriter.prototype.setColor = function(color) {\n        const material = this.getMaterial();\n        if (isString(color)) {\n            material.emissiveColor = rgb2Color3(this.color(color));\n        }\n    };\n\n    MeshWriter.prototype.setAlpha = function(alpha) {\n        const material = this.getMaterial();\n        if (isAmplitude(alpha)) {\n            material.alpha = this.alpha(alpha);\n        }\n    };\n\n    MeshWriter.prototype.overrideAlpha = function(alpha) {\n        const material = this.getMaterial();\n        if (isAmplitude(alpha)) {\n            material.alpha = alpha;\n        }\n    };\n\n    MeshWriter.prototype.resetAlpha = function() {\n        const material = this.getMaterial();\n        material.alpha = this.alpha();\n    };\n\n    MeshWriter.prototype.getLetterCenter = function(ix) {\n        return new Vector2(0, 0);\n    };\n\n    MeshWriter.prototype.dispose = function() {\n        const sps = this.getSPS();\n        if (sps) {\n            sps.dispose();\n        }\n        this.clearall();\n    };\n\n    return MeshWriter;\n\n    // Helper functions\n    function isSupportedFont(ff) {\n        return isFontRegistered(ff);\n    }\n\n    function isSupportedAnchor(a) {\n        return a === \"left\" || a === \"right\" || a === \"center\";\n    }\n}\n\n/**\n * Async factory for Babylon 8+ with CSG2\n * Handles CSG2 initialization automatically\n * @param {Scene} scene - Babylon.js scene\n * @param {Object} preferences - Configuration options\n * @param {Object} [preferences.babylon] - Babylon.js namespace object with CSG classes\n * @returns {Promise<Function>} - MeshWriter constructor\n */\nexport async function createMeshWriterAsync(scene, preferences = {}) {\n    // Initialize CSG module with Babylon methods\n    if (preferences.babylon) {\n        initCSGModule(preferences.babylon);\n    } else if (typeof BABYLON !== \"undefined\") {\n        initCSGModule(BABYLON);\n    }\n\n    // Initialize CSG2 if needed\n    if (getCSGVersion() === 'CSG2' && !isCSGReady()) {\n        await initializeCSG2();\n    }\n\n    return createMeshWriter(scene, preferences);\n}\n\n// Re-export CSG control functions for static API\nexport {\n    isCSGReady,\n    getCSGVersion,\n    setCSGInitializer,\n    setCSGReadyCheck,\n    onCSGReady,\n    markCSGInitialized as markCSGReady,\n    initCSGModule\n};\n","/**\n * MeshWriter - 3D Text Rendering for Babylon.js\n *\n * @example\n * // ES Module usage\n * import { MeshWriter, registerFont } from 'meshwriter';\n * import helvetica from 'meshwriter/fonts/helvetica';\n *\n * registerFont('Helvetica', helvetica);\n * const Writer = await MeshWriter.createAsync(scene);\n * const text = new Writer(\"Hello World\", { \"letter-height\": 20 });\n */\n\n// Core MeshWriter factory functions\nexport {\n    createMeshWriter,\n    createMeshWriterAsync,\n    isCSGReady,\n    getCSGVersion,\n    setCSGInitializer,\n    setCSGReadyCheck,\n    onCSGReady,\n    markCSGReady,\n    initCSGModule\n} from './meshwriter.js';\n\n// Font registry\nexport {\n    registerFont,\n    registerFontAliases,\n    getFont,\n    isFontRegistered,\n    getRegisteredFonts,\n    unregisterFont,\n    clearFonts,\n    codeList,\n    decodeList\n} from './fontRegistry.js';\n\n// Utility exports (for advanced usage / font creation)\nexport { codeList as encodeFontData, decodeList as decodeFontData } from './fontCompression.js';\n\n/**\n * MeshWriter namespace object (for convenience and backward compatibility patterns)\n */\nimport {\n    createMeshWriter,\n    createMeshWriterAsync,\n    isCSGReady,\n    getCSGVersion,\n    setCSGInitializer,\n    setCSGReadyCheck,\n    onCSGReady,\n    markCSGReady,\n    initCSGModule\n} from './meshwriter.js';\n\nimport {\n    registerFont,\n    registerFontAliases,\n    getFont,\n    isFontRegistered\n} from './fontRegistry.js';\n\nimport { codeList, decodeList } from './fontCompression.js';\n\nexport const MeshWriter = {\n    /**\n     * Create MeshWriter async (recommended for Babylon 8+)\n     */\n    createAsync: createMeshWriterAsync,\n\n    /**\n     * Create MeshWriter sync (for Babylon < 8 or when CSG2 is pre-initialized)\n     */\n    create: createMeshWriter,\n\n    // Static CSG methods\n    isReady: isCSGReady,\n    getCSGVersion,\n    setCSGInitializer,\n    setCSGReadyCheck,\n    onCSGReady,\n    markCSGReady,\n    initCSGModule,\n\n    // Font methods\n    registerFont,\n    registerFontAliases,\n    getFont,\n    isFontRegistered,\n\n    // Encoding utilities\n    codeList,\n    decodeList\n};\n\n// Default export\nexport default MeshWriter;\n"],"names":["floor","BabylonCSG","BabylonCSG2","BabylonInitializeCSG2Async","BabylonIsCSG2Ready","Color3","StandardMaterial","SolidParticleSystem","Vector2","Mesh","Path2","PolygonMeshBuilder","Vector3","Curve3","markCSGReady"],"mappings":"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"}